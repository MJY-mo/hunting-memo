<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLNCR狩猟アプリ</title>
    
    <!-- PWA設定 -->
    <link rel="manifest" href="manifest.json">
    <!-- 
      ↓ 警告 (deprecated) 対策: 
      "apple-mobile-web-app-capable" を標準の "mobile-web-app-capable" に変更
    -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- 
      ↓ 404エラー対策:
      "icons/icon-192x192.png" から "icons/" フォルダパスを削除
    -->
    <link rel="apple-touch-icon" href="icon-192x192.png">
    <!-- 
      ↓ 404エラー対策:
      "favicon.ico" を読み込むように指定
    -->
    <link rel="icon" href="favicon.ico">

    <!-- スタイルシート (Tailwind CSS と カスタムCSS) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">

    <!-- ライブラリ (Dexie.js) -->
    <script src="https://unpkg.com/dexie@4.0.7/dist/dexie.js"></script>
    <!-- Exif.js (写真のGPS情報読み取り用) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exif-js/2.3.0/exif.min.js"></script>

</head>
<body class="bg-gray-100">

    <!-- ヘッダー -->
    <header id="header" class="bg-white shadow-md fixed top-0 z-20 w-full max-w-lg mx-auto">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between h-16">
            <button id="backButton" class="text-blue-600 hidden w-20 text-left">&lt; 戻る</button>
            <h1 id="headerTitle" class="text-xl font-bold text-gray-800 text-center flex-grow">罠</h1>
            <div id="headerActions" class="w-20 text-right">
                <!-- ここに各タブ固有のボタンを追加可能 -->
            </div>
        </div>
    </header>

    <!-- メインコンテンツ領域 -->
    <main id="app" class="container mx-auto max-w-lg p-4 pt-20 pb-24">
        <p>読み込み中...</p>
    </main>

    <!-- 下部タブバー -->
    <nav class="bg-white border-t border-gray-200 fixed bottom-0 left-0 right-0 max-w-lg mx-auto h-16 flex justify-around items-center z-30">
        <button id="tab-trap" class="tab-button flex-1 flex flex-col items-center justify-center h-full text-sm font-medium tab-active">
            <span>🦌</span> 罠
        </button>
        <button id="tab-gun" class="tab-button flex-1 flex flex-col items-center justify-center h-full text-sm font-medium tab-inactive">
            <span>🔫</span> 銃
        </button>
        <button id="tab-info" class="tab-button flex-1 flex flex-col items-center justify-center h-full text-sm font-medium tab-inactive">
            <span>ℹ️</span> 情報
        </button>
        <button id="tab-settings" class="tab-button flex-1 flex flex-col items-center justify-center h-full text-sm font-medium tab-inactive">
            <span>⚙️</span> 設定
        </button>
    </nav>

    <!-- アプリのJSファイル (必ずライブラリの後で読み込む) -->
    <script src="db.js"></script>
    <script src="trap.js"></script>
    <script src="gun.js"></script>
    <script src="info.js"></script>
    <script src="settings.js"></script>
    <!-- 
      ↓ 404エラーの根本対策: 
      "main.jsx" ではなく "main.js" を読み込むように指定します。
      このため、あなたのリポジトリで main.jsx を main.js にリネームする必要があります。
    -->
    <script src="main.js"></script>

</body>
</html>